## shell脚本执行的几种方式
1. 直接命令执行，需要rx的权限
2. 绝对路径和相对路径执行，也都需要rx的权限
3. 将脚本文件放在PATH的路径里，也需要rx的权限
4. 以bash程序来执行，cd进文件目录中，`bash shell.sh或者sh shell.sh`，这相当于用bash的内置功能来执行脚本，不需要x，只需要r

## shell编程实例
- 根据date建立文件
- 简单的加减乘除
  - `$((${f}*$(s)))`:将表达式写在$(())中
  - `bc`:计算小数点，可以用来计算pi

## 脚本执行方式的差异
- 直接执行：前面说的shell脚本执行的几个方式其实都属于直接执行，每当用这种方式运行脚本的时候，bash都会产生一个子进程bash，而脚本就在这个子进程的bash中运行，当子进程完成后，子进程内的变量不会传回父进程中。
- `source xxx.sh`：这种方式执行脚本会直接在父进程shell中执行，所以里面的设置都会生效。

## 判断式
- `test`
  - `-e filename`:测试一个文件是不是存在，返回0或1，用`$?`查看
  - 可以进行文件类型、文件权限、两文件之间的比较、整数比较、字符串数据等
  - 支持多重判定，多个条件一起进行判定
- 利用判断符号` [ ] `，由于[]在shell中用于正则和通配符，所以在做判断用时需要在 [ ] 两端加空格来区分。` [ ”$HOME“==“$MAIL" ] `判断这俩变量是否相等,相当于`test ”$HOME“==“$MAIL" `

## 脚本变量的默认设置
- 我们执行脚本的时候，可以在后面带几个参数，例如`network restart`这种，我们在写脚本的时候，只要传入这些参数，脚本中可以用`$1 $2`来接收，到时候这些参数就会替代我们在脚本中的`$1 $2`这些。 
  - `$0`:文件名
  - `$数字`：代表输入的第几个参数
  - `$#`:变量有几个
  - `$@`:列出所有变量
- `shift`:在脚本中写`shift`，代表将变量进行偏移

## 条件判断式
- 单层条件判断式：`if [条件判断式] ；then xxxxx fi`：满足条件判断式中的条件，就执行then后面的语句，fi代表结束。
- 多重条件判断式：
    ```bash
    if [条件判断式1]； then xxxx
    elif [条件判断式2]； then xxxx
    else xxxx
    fi
    ```
- `case esac`:和C的case意思一样
- `function函数`：需要将函数写在shell的最开头
  - `function`变量使用

## 循环
- `while`:和c中while相同
- `until`：和while相反
- `for`
  - 常见格式
    ```bash
    for var in con1 con2 con3
    do
    程序段:其中只要取到var就是循环con1、con2、con3
    done
    ```
  - 需要取一段连续的数字或字符的时候
    - `for xx in $(seq 1 100)`:取1-100的数字
    - `for xx in {a..g}`:取a-g之间的字符
  - 和C一样的写法
    ```bash
    for (( 初始值; 限制; 赋值运算))  //可以直接用((i=0;i<=100;i++))
    do 
    程序段
    done
    ```
  - 可以搭配数组一起使用

## 脚本的跟踪和调试
`sh [-nvx] script.sh`:其中`-n`表示检查语法错误，`-x`执行脚本，并实时将脚本内容打印到屏幕上