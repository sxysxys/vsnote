## vi的使用
- 一般命令模式
  - 移动操作
    - 0:移动到一行的最前面
    - $:移动到一行的最后面
    - nG：移动到这个文件的第n行
  - 删除操作
    - nx：删除后面的n个字符
    - ndd：删除（剪切）光标以下n行
  - 复制操作
    - yy：复制光标所在这一行
    - nyy：复制光标下n行
  - 粘贴操作
    - P：将复制的数据粘贴在光标上一行
    - p:将复制的数据粘贴在光标下一行
  - 撤回和重复
    - u：撤回上一个操作
    - [ctrl]+r:重做上一个操作
    - .：重复上一个命令的操作
- 编辑模式：按下i、I、o、O等字母进入编辑模式
  - 插入操作
    - i：在光标处插入
    - I：在光标这一行开头插入
    - O:在光标上面插一行
    - o：在光标下插一行
    - A：光标这一行末尾插
  - 替换
    - R:一直替换光标上的字符
    - r：只替换光标上的字符一次
- 命令行模式：按下：/ ?进入命令行模式
  - 查找数据、显示行号
    - :set nu  显示行号
    - /word:光标下查找word
    - ？word：光标上查找word
    - n:查了一个后，向下继续查找
    - N：向上继续查找
  - 保存退出等
    - w：保存写
    - q：退出
    - w！：强制写
    - wq！：强制保存后写
    - :w [filename]:将此文件另存为filename
  - 替换
    - `:n1,n2s/word1/word2/g`:n1、n2行之间将word1替换成word2
    - `:1,$s/word1/word2/gc`:全局替换

使用要注意的点：
1. 一般命令模式可以切换成编辑模式和命令行模式，但是编辑模式和命令行模式之间不能切换。
2. 在一般模式下，数字是很有意义的，在很多指令前先输入数字都有用。例如43G：移动到43行。
   
## vim的恢复
每次我们进行vim的编辑操作的时候，系统都会自动生成一个缓存文件swp在相应的目录中，如果系统出现意外宕机，那么下次进入文件可以通过这个换缓存来恢复。

下次打开文件的时候，只要系统检测到存在swp文件，就会询问你是否加载这个swp文件覆盖当前文件。

可以进行以下操作：
- O:将文件以read-only方式打开；因为linux是多用户的，有可能你想打开这个文件的时候其他用户正在编辑这个文件，此时你进入时系统就会进入缓存提示，你可以选择O只读。
- E：正常进入，但是此时如果两个用户共同编辑文件的话就会出现问题。
- R：加载缓存
- D：将缓存删除
- Q：直接退出

## vim的使用
*vim的使用基本上和vi相同，vim多了一些功能*<br>
- 复制和删除区块
  - 之前的操作都是基于一行的，通过这个功能可以对列区块进行操作。
- 多文件编辑功能
  - `vim file1 file2`:同时打开两个文件
  - 输入`:files`查看有哪些文件
  - `:n`进行文件的切换
  - `:q`退出文件的编辑
- 多窗口功能
  - 在一个文件内输入`:sp filename`打开新文件并分屏
  - `ctrl+w`后松开，按上下则切换到上面和下面的窗口
- 关键词补全
  - 在需要补全的关键词之后，输入`ctrl+x`,再输入`ctrl+o`就可以显示补全了。
- Vim的环境设置
  - 自行建立`~/.vimrc`文件，在里面写相应的环境设置，这样vim默认按照设置的来执行文件。
  - `:set all`：查看当前vim的所有设置。
   
